window.customify=window.customify||{},function(e,n,t,i){customify.styleManager=function(){const n=t.customize;n.bind("ready",(function(){const t=e("#style-manager-user-feedback-modal");if(t.length){let i=t.find("form"),o=t.find(".close"),s=t.find(".first-step"),c=t.find(".second-step"),a=t.find(".thanks-step"),r=t.find(".error-step"),d=!1,f=!1;n.bind("saved",(function(){!d&&f&&(e("body").addClass("modal-open"),d=!0)}));const u=n("sm_color_palette");_.isUndefined(u)||u.bind((function(e,n){e!=n&&(f=!0)}));const l=n("sm_color_palette_variation");_.isUndefined(l)||l.bind((function(e,n){e!=n&&(f=!0)})),i.on("submit",(function(n){n.preventDefault();let t=e(n.target),i={action:"customify_style_manager_user_feedback",nonce:customify.config.style_manager_user_feedback_nonce,type:t.find("input[name=type]").val(),rating:t.find("input[name=rating]:checked").val(),message:t.find("textarea[name=message]").val()};e.post(customify.config.ajax_url,i,(function(e){!0===e.success?(s.hide(),c.hide(),a.show(),r.hide()):(s.hide(),c.hide(),a.hide(),r.show())}))})),i.find("input[name=rating]").on("change",(function(e){setTimeout((function(){c.show()}),300);let n=i.find("input[name=rating]:checked").val();i.find(".rating-placeholder").text(n)})),o.on("click",(function(n){n.preventDefault(),e("body").removeClass("modal-open"),setTimeout((function(){s.show(),c.hide(),a.hide(),r.hide()}),300)}))}}));const i=function(e,n){if(0===e.indexOf("#")&&(e=e.slice(1)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),6!==e.length)throw new Error("Invalid HEX color.");let t=parseInt(e.slice(0,2),16),i=parseInt(e.slice(2,4),16),s=parseInt(e.slice(4,6),16);return n?.299*t+.587*i+.114*s>186?"#000000":"#FFFFFF":(t=(255-t).toString(16),i=(255-i).toString(16),s=(255-s).toString(16),"#"+o(t)+o(i)+o(s))},o=function(e,n){return n=n||2,(new Array(n).join("0")+e).slice(-n)};return{inverseHexColor:i,inverseHexColorToBlackOrWhite:function(e){return i(e,!0)},padZero:o}}()}(jQuery,window.customify,wp,document);